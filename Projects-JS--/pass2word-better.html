<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PAssword App</title>
</head>
<style>
    @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@200;400;600&display=swap");

* {
    box-sizing: border-box;
}

body {
    background-color: rebeccapurple;
    color: white;
  display: flex;
  /* flex-direction: column; */
    align-items: center;
    justify-content: center;
    font-family: "Poppins", sans-serif;
    margin: 0;
    min-height: 100vh;
}
.pw-container{
    width:300px;
    min-width:400px;
    background-color: blueviolet;
    box-shadow: rgb(204, 214, 225) 0px 20px 30px -10px;
}
.pw-header{
    padding:1rem;

}
.pw{
    padding-inline: .5rem;
    background-color: rebeccapurple;
    width:100%;
    height:70px;
    font-size: 1.2rem;
    display: flex;
    align-items: center;  
    position: relative;
    overflow: auto;
}
.pw button{
    background-color: white;
    font-family:inherit ;
    font-weight: bold;
    color: rgb(29, 2, 56);
    border: none;
    border-radius:5px ;
    cursor: pointer;
    position: absolute;

    padding: 0.25rem;
   
    top:0;
    right:0;
    transform: translate(0,20%);
    opacity: 0;
    transition:opacity 2s ease, transform 3s ease-in-out;
}
.pw:hover button{
    opacity: 1;
    transform: translate(0,0%);


}
.pw-body {
    padding: 0 1rem 1rem;
}
.form-control {
    color: #eee;
    display: flex;
    justify-content: space-between;
    margin: 0.75rem 0;
}
.generate {
    display: block;
    background-color: #ecb602;
    border: none;
    color: rebeccapurple;
    cursor: pointer;
 
    font-size: 1.5rem;
    font-weight: bold;
    padding: 0.75rem;
    margin-top: 1rem;
    width: 100%;
}


    </style>
<body>
    <div class="pw-container">
        <div class="pw-header">
            <div class="pw">
                <span id="pw">l823Zs78#Css09@</span>
                <button id="copy">Copy</button>
            </div>
        </div>

    
    <div class="pw-body">
        <div class="form-control">
            <label for="len">Password Length</label>
            <input type="number" id="len" min="2" max="20"
            value="15">
        </div>
        <div class="form-control">
            <label for="upper">Add UpperCase Letters</label>
            <input id="upper" type="checkbox">
        </div>
        <div class="form-control">
            <label for="lower">Add LowerCase Letters</label>
            <input id="lower" type="checkbox">
        </div>
        <div class="form-control">
            <label for="number">Contain Numbers</label>
            <input id="number" type="checkbox">
        </div>
        <div class="form-control">
            <label for="symbol">Contain Symbols</label>
            <input id="symbol" type="checkbox">
        </div>
        <button class="generate" id="generate">Generate Password</button>

    </div>
    
</div>
    
    

    <script>
        const span = document.getElementById('pw');
        const button = document.getElementById('copy');
        const input = document.getElementById('len');
        const inputUpper = document.getElementById('upper');
        const inputLower = document.getElementById('lower');
        const inputNumber = document.getElementById('number');
        const inputSymbol = document.getElementById('symbol');
        const generate = document.getElementById('generate');

        const upperLetters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
        const lowerLetters = "abcdefghijklmnopqrstuvwxyz";
        const numbers = "0123456789";
        const symbols = "!@#$%^&*()_+=";


      function upperLettersA(){
        return upperLetters[Math.floor(Math.random()*upperLetters.length)]
      }
      function lowerLettersA(){
        return lowerLetters[Math.floor(Math.random()*lowerLetters.length)]
      }
      function numbersA(){
        return numbers[Math.floor(Math.random()*numbers.length)]
      }
      function symbolsA(){
        return symbols[Math.floor(Math.random()*symbols.length)]
      }

      function newPassword(){
        let password='';
        inputValue = input.value;
        if(inputUpper.checked){
            password+=upperLettersA()
        }
        if(inputLower.checked){
            password+=lowerLettersA()
        }
        if(inputNumber.checked){
            password+=numbersA()
        }
        if(inputSymbol.checked){
            password+=symbolsA()
        }

        for (let index = password.length; index < inputValue; index++) {
          const x = otherr();
          password += x;
        }
       span.innerHTML = password;
            
      }


      function otherr(){
        const xs = [];
        if(inputUpper.checked){
            xs.push(upperLettersA())
        }
        if(inputLower.checked){
            xs.push(lowerLettersA())
        }
        if(inputNumber.checked){
            xs.push(numbersA())
        }
        if(inputSymbol.checked){
            xs.push(symbolsA())
        }
        if(xs.length===0){return ''};
        return xs[Math.floor(Math.random()*xs.length)]

      }

      generate.addEventListener('click',()=>{
        newPassword();
      })

      button.addEventListener('click',()=>{
        const textarea = document.createElement("textarea");
    const password = span.innerText;
    if(!password){
        return ;
    }
    textarea.value=password;
    document.body.appendChild(textarea);
    textarea.select();
    document.execCommand('copy');
    textarea.remove();
    button.innerHTML=span.innerHTML +' copied'
    //alert('copied')
    
    //     input.select();
    // input.setSelectionRange(0, 99999);
    //     navigator.clipboard.writeText(input.value);
    //    button.innerHTML='click to copy';
    //     setTimeout(() => {
    //         button.innerHTML=span.innerHTML +' copied';
    //     }, 2000);
      })
               </script>
</body>
</html>